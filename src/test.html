<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <style>
html, body, #canvas {
  display: block;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>

        const onRepaint = function() {
            console.log('repaint');

            const canvas =  document.getElementById('canvas');
            const context = canvas.getContext('2d');
            
            context.fillStyle = 'red';
            context.fillRect(0, 0, canvas.width, canvas.height);
            
            context.fillStyle = 'blue';
            context.fillRect(10, 10, canvas.width-20, canvas.height-20);
        };

        const onResize = function() {
            console.log('resize');

            const canvas =  document.getElementById('canvas');
            console.log(canvas.height, canvas.clientHeight, window.innerHeight);

            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;

            onRepaint();
        };

        window.addEventListener('DOMContentLoaded', onResize);
        window.addEventListener('resize', onResize);
    </script>
  </body>
</html>